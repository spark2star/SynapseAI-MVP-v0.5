# =============================================================================
# SynapseAI Backend Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
APP_NAME=SynapseAI - Intelligent EMR System
VERSION=1.0.0
DEBUG=False
ENVIRONMENT=production  # Options: development, staging, production

# -----------------------------------------------------------------------------
# API Configuration
# -----------------------------------------------------------------------------
API_V1_PREFIX=/api/v1
API_HOST=0.0.0.0
API_PORT=8000

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# PostgreSQL connection string (async for Alembic/SQLAlchemy async engine)
# Format: postgresql+asyncpg://user:password@host:port/dbname
DATABASE_URL=postgresql+asyncpg://synapseai:your_secure_password@localhost:5432/synapseai

# Connection pool settings
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
# Redis connection string for session management and caching
REDIS_URL=redis://localhost:6379/0
REDIS_SESSION_DB=1

# -----------------------------------------------------------------------------
# Security & Authentication
# -----------------------------------------------------------------------------
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-secret-key-min-32-chars-long-CHANGE-THIS
JWT_SECRET_KEY=your-jwt-secret-key-min-32-chars-long-CHANGE-THIS

# JWT Configuration
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Password Hashing
BCRYPT_ROUNDS=12

# -----------------------------------------------------------------------------
# Encryption Keys
# -----------------------------------------------------------------------------
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=your-fernet-encryption-key-CHANGE-THIS
FIELD_ENCRYPTION_KEY=your-field-encryption-key-CHANGE-THIS

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000,https://app.synapseai.com
ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
ALLOWED_HEADERS=*

# -----------------------------------------------------------------------------
# Google Cloud Platform
# -----------------------------------------------------------------------------
# Path to GCP service account credentials JSON file
GCP_CREDENTIALS_PATH=gcp-credentials.json
GCP_PROJECT_ID=synapse-product-1
GOOGLE_APPLICATION_CREDENTIALS=gcp-credentials.json

# -----------------------------------------------------------------------------
# Google Cloud Speech-to-Text
# -----------------------------------------------------------------------------
GOOGLE_STT_MODEL=latest_long
GOOGLE_STT_PRIMARY_LANGUAGE=en-IN
GOOGLE_STT_ALTERNATE_LANGUAGES=mr-IN,hi-IN
GOOGLE_STT_SAMPLE_RATE=48000
GOOGLE_STT_ENABLE_WORD_CONFIDENCE=True
GOOGLE_STT_ENABLE_WORD_TIME_OFFSETS=True

# -----------------------------------------------------------------------------
# Gemini AI (Vertex AI)
# -----------------------------------------------------------------------------
GOOGLE_CLOUD_PROJECT=synapse-product-1
VERTEX_AI_LOCATION=asia-south1
GEMINI_MODEL=gemini-2.5-flash

# -----------------------------------------------------------------------------
# Google Cloud Storage
# -----------------------------------------------------------------------------
GCS_BUCKET_NAME=synapseai-audio
GCS_REPORTS_BUCKET=synapseai-reports

# -----------------------------------------------------------------------------
# File Upload Configuration
# -----------------------------------------------------------------------------
UPLOAD_DIR=./static/uploads
MAX_UPLOAD_SIZE=50MB
MAX_FILE_SIZE=10485760  # 10MB in bytes
ALLOWED_AUDIO_FORMATS=wav,mp3,m4a,webm
ALLOWED_FILE_TYPES=pdf,doc,docx,jpg,jpeg,png

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_PER_HOUR=1000

# -----------------------------------------------------------------------------
# Logging & Audit
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO  # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
ENABLE_AUDIT_LOGGING=True
AUDIT_LOG_RETENTION_DAYS=2555  # 7 years for HIPAA compliance

# -----------------------------------------------------------------------------
# Data Retention Policies
# -----------------------------------------------------------------------------
PATIENT_DATA_RETENTION_YEARS=7
AUDIT_LOG_RETENTION_YEARS=7
SESSION_AUDIO_RETENTION_DAYS=30

# -----------------------------------------------------------------------------
# Session Configuration
# -----------------------------------------------------------------------------
SESSION_EXPIRE_MINUTES=30

# -----------------------------------------------------------------------------
# Multi-Factor Authentication (MFA)
# -----------------------------------------------------------------------------
MFA_ISSUER=SynapseAI-EMR

# -----------------------------------------------------------------------------
# Email Configuration (for notifications)
# -----------------------------------------------------------------------------
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=noreply@synapseai.com
SMTP_PASSWORD=your-smtp-password-CHANGE-THIS
SMTP_FROM_EMAIL=noreply@synapseai.com
SMTP_FROM_NAME=SynapseAI

# =============================================================================
# Notes:
# -----------------------------------------------------------------------------
# 1. All SECRET keys should be generated using cryptographically secure methods
# 2. ENCRYPTION_KEY must be a valid Fernet key (44 characters, base64 encoded)
# 3. Never use default values in production
# 4. Rotate encryption keys periodically (with proper data re-encryption)
# 5. Keep credentials in secure vault in production (e.g., Google Secret Manager)
# 6. Use environment-specific .env files (.env.production, .env.staging)
# 7. Ensure .env is in .gitignore
# =============================================================================
